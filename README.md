# Gelotto Verdict

Verdict is a game where players vote on one or more possible outcomes of a
future event. Once the event has happened, a group of players, known as jurors,
try to come to form consensus around the true outcome by running a code snippet
stored in the smart contract off-chain and sending the result back to the
contract. If all members of the jury agree, then players with votes on the
winning side split the funds stored in the contract, proportional to the
purchased weight of each of their votes. In addition, each jury charges a
percentage-based fee, which they receive when jury deliberations end in
consensus.

## Execute API

### Vote

Players can cast votes as long as a trial is `active`. Each vote carries a
_weight_. The cost of a vote is equal to the weight, multiplied by a unit price,
\*set in `Verdict::price`. A player can cast votes
multiple times, either for the same or different choice. For example, they can
place a weight of 5 on choice "A" and a weight of 1 on choice "B".

#### Arguments

- `weight`: number (u32) weight to add to sender's voting record.
- `choice`: number (u32) index of the choice the player is voting for.

### Decide

Only members of the jury can execute the `decide` method. Here, they upload the
output of the trial's off-chain decision script. The final "juror" to execute
this method puts the contract into the `has_verdict` state in which. Once a
defined timeout period comes to an end following this point, winners can claim
rewards. However, if a member of the jury submits output that differs from other
members, the contract goes into a `hung_jury` state, and each wallet may then
call the `claim` method to receive a complete refund.

#### Arguments

- `logs`: output generated by decision script.
- `choice`: winning choice index output by script.

### Claim

Any player who voted can claim under several conditions. First, if the game
was canceled or the jury hung, a player can claim a complete refund. Second, if
a player won, they can claim their reward.

### Cancel

The owner of the contract can cancel the game as long as the contract is either
in the `active` or `deliberating` state. Once canceled, players can claim a
refund through the `claim` method.

#### Arguments

- `reason`: a text message stating the reason for the cancelation.
